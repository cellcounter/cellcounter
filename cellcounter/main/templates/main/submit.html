{% extends 'main/base.html' %}

{% block content %}

<p>To begin a new count, click 'Open Keyboard', perform the count using your keyboard and the keys displayed. Should you wish to see example images of the cells in question, press 'Shift+Letter', to enter an abnormal variant of a cell, press 'Space+Letter', and to remove a count, press 'Backspace+Letter'. To close the keyboard, click on the grey area outside the keyboard. Once you have completed a count, fill in the remaining information in the form below, and click 'Submit'.</p>

{% include "main/keyboard_snippet.html" %}

<div id="statistics"></div>

<form action="" method="POST" class="form-horizontal">
    {% csrf_token %}
    
    {% include "main/forms/cellcountinstance_form.html" %}
    {% include "main/forms/bonemarrowbackground_form.html" %}
    {% include "main/forms/granulopoiesis_form.html" %}
    {% include "main/forms/erythropoiesis_form.html" %}
    {% include "main/forms/megakaryocytefeatures_form.html" %}
    {% include "main/forms/ironstain_form.html" %}
    {% include "main/forms/overallcomment_form.html" %}
    
    {% for form in cellcountformslist %}
    <div id="{{form.initial.cell.machine_name}}" class="cellcount-form">
        {{ form.errors }}
        {{ form.as_p }}
    </div>
    {% endfor %}
    <br>
    <input class="btn btn-success" type="submit" value="Submit" />
</form>

{% endblock %}
